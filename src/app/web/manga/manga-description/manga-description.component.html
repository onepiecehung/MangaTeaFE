<div class="main-description mt-2">
  <div class="container">
    <ng-container *ngIf="!isShowPageUploadChapter && mangaItem !== null">
      <div class="card">
        <div class="card-header">
          {{mangaItem.otherName.english}}
        </div>
        <div class="card-body">
          <div nz-row>
            <div nz-col nzSpan="6">
              <img [src]="mangaItem.coverImage.large" class="img-fluid" [routerLink]="['/manga/', mangaItem.id,1]"
                alt="">
            </div>
            <div nz-col nzSpan="18">
              <div nz-row>
                <div nz-col nzSpan="4">
                  Title ID:
                </div>
                <div nz-col nzSpan="20">
                  # {{mangaItem.id}}
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Alt name(s):
                </div>
                <div nz-col nzSpan="20">
                  {{mangaItem.otherName.english}}, {{mangaItem.otherName.native}},
                  {{mangaItem.otherName.romaji}}, {{mangaItem.otherName.userPreferred}}
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Author:
                </div>
                <div nz-col nzSpan="20">
                  <ng-container *ngFor="let author of mangaItem.staff">
                    <div>{{ author.name }} </div>
                  </ng-container>
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Artist:
                </div>
                <div nz-col nzSpan="20">
                  # {{mangaItem.id}}
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Demographic:
                </div>
                <div nz-col nzSpan="20">
                  # {{mangaItem.id}}
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Content:
                </div>
                <div nz-col nzSpan="20">
                  # {{mangaItem.id}}
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Genre:
                </div>
                <div nz-col nzSpan="20">
                  <span class="badge badge-pill badge-primary mr-2"
                    *ngFor="let genre of mangaItem.genres">{{genre}}</span>
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Theme:
                </div>
                <div nz-col nzSpan="20">
                  # {{mangaItem.id}}
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Rating:
                </div>
                <div nz-col nzSpan="20">
                  # {{mangaItem.id}}
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Pub. status:
                </div>
                <div nz-col nzSpan="20">
                  {{mangaItem.status}}
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Description:
                </div>
                <div nz-col nzSpan="20">
                  {{mangaItem.description}}
                </div>
              </div>
              <hr>

              <div nz-row>
                <div nz-col nzSpan="4">
                  Actions:
                </div>
                <div nz-col nzSpan="20">
                  <button nz-button (click)="onClickUploadChapter()"><i nz-icon nzType="upload"></i>Upload</button>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
      <div nz-row>
        <div nz-col nzSpan="24">
          <nz-tabset [nzSize]="'large'" (nzSelectChange)="changeSelectTab($event)">
            <nz-tab nzTitle="Chapters">
              Content of Tab Pane 1
            </nz-tab>
            <nz-tab nzTitle="Comments">
              <nz-list [nzDataSource]="listComment" [nzRenderItem]="item" [nzItemLayout]="'horizontal'">
                <ng-template #item let-item>
                  <nz-comment [nzAuthor]="item.user.username" [nzDatetime]="item.timeComment">
                    <nz-avatar nz-comment-avatar [nzSrc]="item.user.avatar"></nz-avatar>
                    <nz-comment-content>
                      <p>{{ item.commentContent }}</p>
                    </nz-comment-content>
                    <nz-comment-action>Reply to</nz-comment-action>
                  </nz-comment>
                </ng-template>

              </nz-list>
            </nz-tab>
            <nz-tab nzTitle="Covers">
              Content of Tab Pane 3
            </nz-tab>
          </nz-tabset>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="isShowPageUploadChapter">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <div>Upload Chapter</div>
          <div class="button-upload-cancel">
            <button nz-button nzType="dashed" class="mr-3" nzDanger>Dashed</button>
            <button nz-button nzType="primary"><i nz-icon nzType="upload"></i>Upload</button>
          </div>
        </div>
        <div class="card-body">


          <div class="body-upload">
            <ng-container *ngIf="fileList.length === 0">
              <nz-upload
              nzType="drag"
              [nzMultiple]="true"
              nzAction="https://www.mocky.io/v2/5cc8019d300000980a055e76"
              (nzChange)="handleChange($event)"
            >
              <p class="ant-upload-drag-icon">
                <i nz-icon nzType="inbox"></i>
              </p>
              <p class="ant-upload-text">Click or drag file to this area to upload</p>
              <p class="ant-upload-hint">
                Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files
              </p>
            </nz-upload>
            </ng-container>
            <ng-container *ngIf="fileList.length > 0">
              <div class="clearfix">
                <nz-upload
                  nzAction="https://www.mocky.io/v2/5cc8019d300000980a055e76"
                  nzListType="picture-card"
                  [(nzFileList)]="fileList"
                  [nzShowButton]="fileList.length <= 50"
                  [nzPreview]="handlePreview"
                >
                  <i nz-icon nzType="plus"></i>
                  <div class="ant-upload-text">Upload</div>
                </nz-upload>
                <nz-modal [nzVisible]="previewVisible" [nzContent]="modalContent" [nzFooter]="null" (nzOnCancel)="previewVisible = false">
                  <ng-template #modalContent>
                    <img [src]="previewImage" [ngStyle]="{ width: '100%' }" />
                  </ng-template>
                </nz-modal>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>